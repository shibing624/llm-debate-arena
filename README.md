# LLM Debate Arena - AIè¾©è®ºç«æŠ€åœº

ç«æŠ€å¯¹æŠ—å‹ AI è¾©è®ºæŒ‘æˆ˜èµ›

[English](README_EN.md)

## ğŸ¯ é¡¹ç›®ç®€ä»‹

LLM Debate Arena æ˜¯ä¸€ä¸ªåˆ›æ–°çš„ AI è¾©è®ºå¹³å°ï¼Œè®©ä¸åŒçš„å¤§è¯­è¨€æ¨¡å‹åœ¨è¾©è®ºèµ›ä¸­ä¸€å†³é«˜ä¸‹ã€‚é€šè¿‡ ELO æ’ä½ç³»ç»Ÿã€å¤šè£åˆ¤æŠ•ç¥¨åˆ¶å’Œ SSE å®æ—¶æµå¼å±•ç¤ºï¼Œæ‰“é€ å…¬å¹³ã€æœ‰è¶£ã€ä¸“ä¸šçš„ AI ç«æŠ€ä½“éªŒã€‚

### æ ¸å¿ƒç‰¹æ€§

- âš”ï¸ **ç«æŠ€å¯¹æŠ—**: ä»»æ„ä¸¤ä¸ªæ¨¡å‹ PKï¼Œæ”¯æŒåŒæ¨¡å‹å¯¹æˆ˜ï¼ˆä¸è®¡ELOï¼‰
- ğŸ† **ELO æ’ä½**: åŠ¨æ€ ELO ç®—æ³•ï¼Œè¾©é¢˜éš¾åº¦ç³»æ•°åŠ æˆ
- ğŸ‘¨â€âš–ï¸ **å¤šè£åˆ¤åˆ¶**: å¤šä½è£åˆ¤æŠ•ç¥¨ï¼Œç¡®ä¿å…¬å¹³
- ğŸ­ **æ€§æ ¼æ³¨å…¥**: 5ç§è¾©è®ºé£æ ¼ï¼ˆç†æ€§/æ¿€è¿›/æ¸©å’Œ/å¹½é»˜/å­¦æœ¯ï¼‰
- ğŸ”§ **å·¥å…·å¢å¼º**: Pythonè§£é‡Šå™¨ã€ç½‘ç»œæœç´¢ã€è®¡ç®—å™¨ï¼ˆå¯é€‰ï¼‰
- ğŸ“Š **æ•°æ®æ²‰æ·€**: å®Œæ•´å†å²è®°å½•ã€å¤©æ¢¯æ¦œã€å¯¹æˆ˜è¯¦æƒ…
- ğŸ¬ **å®æ—¶æµå¼**: SSE æ¨é€ï¼Œè¾©è®ºè¿‡ç¨‹ä½“éªŒä½³
- ğŸ‘¤ **ç”¨æˆ·ç³»ç»Ÿ**: æ³¨å†Œç™»å½•ã€å†å²è®°å½•ã€ä¸ªäººä¸­å¿ƒ

### Demoé¡µé¢

![image.png](https://github.com/shibing624/llm-debate-arena/raw/main/docs/main.png)


## ğŸš€ å¿«é€Ÿå¼€å§‹

### æ–¹å¼ä¸€ï¼šDocker éƒ¨ç½²ï¼ˆæ¨èï¼‰

ä½¿ç”¨ Docker Compose ä¸€é”®å¯åŠ¨ï¼š

```bash
# 1. é…ç½®ç¯å¢ƒå˜é‡
cp .env.example .env
# ç¼–è¾‘ .env æ–‡ä»¶ï¼Œå¡«å†™ API Keys

# 2. å¯åŠ¨æœåŠ¡
docker-compose up -d

# 3. æŸ¥çœ‹æ—¥å¿—
docker-compose logs -f

# 4. åœæ­¢æœåŠ¡
docker-compose down
```

æœåŠ¡å°†åœ¨ `http://localhost:8000` å¯åŠ¨ã€‚

> ğŸ“š æ›´å¤š Docker éƒ¨ç½²ç»†èŠ‚ï¼Œè¯·å‚è€ƒ [Docker éƒ¨ç½²æŒ‡å—](docs/DOCKER.md)

#### Docker å•ç‹¬æ„å»º

```bash
# æ„å»ºé•œåƒ
docker build -t llm-debate-arena .

# è¿è¡Œå®¹å™¨
docker run -d \
  -p 8000:8000 \
  -v $(pwd)/data:/app/data \
  -e OPENROUTER_API_KEY=your_api_key \
  -e AVAILABLE_MODELS=gpt-4o,gpt-4o-mini,claude-3.5-sonnet \
  --name debate-arena \
  llm-debate-arena
```

### æ–¹å¼äºŒï¼šæœ¬åœ°å¼€å‘

#### ç¯å¢ƒè¦æ±‚

- Python 3.10+
- Node.js 18+
- SQLite (é»˜è®¤) æˆ– PostgreSQL

#### åç«¯å¯åŠ¨

```bash
# è¿›å…¥åç«¯ç›®å½•
cd backend

# å®‰è£…ä¾èµ–
pip install -r requirements.txt

# é…ç½®ç¯å¢ƒå˜é‡ï¼ˆå¤åˆ¶ .env.example ä¸º .env å¹¶å¡«å†™ï¼‰
cp ../.env.example ../.env

# å¼€å‘ç¯å¢ƒï¼šå¯åŠ¨åç«¯æœåŠ¡ï¼ˆæ¨èï¼‰
uvicorn backend.main:app --reload --port 8000 --host 0.0.0.0

# ç”Ÿäº§ç¯å¢ƒï¼šå¯åŠ¨åç«¯æœåŠ¡
uvicorn backend.main:app --port 8000 --host 0.0.0.0 --loop uvloop

# æ³¨æ„ï¼šä¸è¦ä½¿ç”¨ --workers å‚æ•°ï¼Œå› ä¸º SSE é•¿è¿æ¥éœ€è¦çŠ¶æ€å…±äº«
```

åç«¯æœåŠ¡è¿è¡Œåœ¨ `http://localhost:8000`

API æ–‡æ¡£: `http://localhost:8000/docs`

#### å‰ç«¯å¯åŠ¨

```bash
# è¿›å…¥å‰ç«¯ç›®å½•
cd frontend

# å®‰è£…ä¾èµ–
npm install

# å¯åŠ¨å¼€å‘æœåŠ¡å™¨
npm run dev
```

å‰ç«¯æœåŠ¡è¿è¡Œåœ¨ `http://localhost:5173`

#### ä¸€é”®å¯åŠ¨è„šæœ¬

```bash
# ä½¿ç”¨å¯åŠ¨è„šæœ¬
sh start.sh
```


## ğŸ”§ é…ç½®è¯´æ˜

### ç¯å¢ƒå˜é‡

åœ¨ `.env` æ–‡ä»¶ä¸­é…ç½®ï¼š

```env
# LLM API é…ç½®
OPENROUTER_API_KEY=your_api_key_here
OPENROUTER_API_URL=https://api.openai.com/v1

# å¯ç”¨æ¨¡å‹åˆ—è¡¨ï¼ˆé€—å·åˆ†éš”ï¼‰
AVAILABLE_MODELS=gpt-4o,gpt-4o-mini,claude-3.5-sonnet,gpt-5.1

# æ•°æ®åº“é…ç½®
DATABASE_URL=sqlite:///./debate_arena.db

# Serper API (æœç´¢å·¥å…·)
SERPER_API_KEY=your_serper_api_key_here
```

### æ¨¡å‹é…ç½®

é€šè¿‡ `AVAILABLE_MODELS` ç¯å¢ƒå˜é‡æ·»åŠ å¯ç”¨æ¨¡å‹ï¼š

- æ ¼å¼ï¼šé€—å·åˆ†éš”çš„æ¨¡å‹ ID
- ç¤ºä¾‹ï¼š`gpt-4o,gpt-4o-mini,claude-3.5-sonnet,your-custom-model`
- æ¨¡å‹ä¼šè‡ªåŠ¨åˆå§‹åŒ–ï¼Œ`display_name` ä¸ºæ¨¡å‹ ID çš„å¤§å†™å½¢å¼
- æ— éœ€ä¿®æ”¹ä»£ç ï¼Œé‡å¯æœåŠ¡å³å¯ç”Ÿæ•ˆ


## ç³»ç»Ÿè®¾è®¡

### æ¶æ„å›¾

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      å‰ç«¯ (React)                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ ç«æŠ€åœº   â”‚  â”‚ å¤©æ¢¯æ¦œ   â”‚  â”‚ æ³¨å†Œ     â”‚  â”‚ ç™»å½•     â”‚   â”‚
â”‚  â”‚ Arena    â”‚  â”‚ Leaderboardâ”‚ â”‚ Register â”‚  â”‚ (Modal)  â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜   â”‚
â”‚       â”‚             â”‚              â”‚             â”‚          â”‚
â”‚       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
â”‚                     â”‚ SSE / HTTP REST                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                      â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  åç«¯ API (FastAPI)                          â”‚
â”‚                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚            /api/tournament/                          â”‚  â”‚
â”‚  â”‚  â€¢ POST /match/stream    (SSEæµå¼æ¯”èµ›)               â”‚  â”‚
â”‚  â”‚  â€¢ GET  /leaderboard     (å¤©æ¢¯æ¦œ)                    â”‚  â”‚
â”‚  â”‚  â€¢ GET  /matches/history (å†å²ï¼Œæ”¯æŒç­›é€‰)            â”‚  â”‚
â”‚  â”‚  â€¢ GET  /match/{id}      (æ¯”èµ›è¯¦æƒ…)                  â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚            /api/auth/                                â”‚  â”‚
â”‚  â”‚  â€¢ POST /register        (æ³¨å†Œ)                      â”‚  â”‚
â”‚  â”‚  â€¢ POST /login           (ç™»å½•ï¼Œæ”¯æŒé‚®ç®±)            â”‚  â”‚
â”‚  â”‚  â€¢ GET  /me              (è·å–ç”¨æˆ·ä¿¡æ¯)              â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                      â†“                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚Tournamentâ”‚  â”‚  Judge   â”‚  â”‚   ELO    â”‚  â”‚   Auth   â”‚  â”‚
â”‚  â”‚ Manager  â”‚â†’ â”‚  Panel   â”‚â†’ â”‚  System  â”‚  â”‚   JWT    â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜  â”‚
â”‚       â”‚             â”‚              â”‚             â”‚          â”‚
â”‚       â†“             â†“              â†“             â†“          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚   LLM    â”‚  â”‚  Tools   â”‚  â”‚      Database            â”‚ â”‚
â”‚  â”‚  Client  â”‚  â”‚  Engine  â”‚  â”‚  (SQLAlchemy + SQLite)   â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                      â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    æ•°æ®å±‚ (SQLite)                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚ competitorsâ”‚  â”‚  matches   â”‚  â”‚   topics   â”‚  â”‚ users â”‚â”‚
â”‚  â”‚  (æ¨¡å‹)     â”‚  â”‚  (æ¯”èµ›)     â”‚  â”‚  (è¾©é¢˜)     â”‚  â”‚(ç”¨æˆ·)â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ELO æ’ä½ç³»ç»Ÿ

```
æ–°åˆ†æ•° = æ—§åˆ†æ•° + Kå› å­ Ã— éš¾åº¦ç³»æ•° Ã— (å®é™…å¾—åˆ† - æœŸæœ›å¾—åˆ†)

Kå› å­ (åŠ¨æ€):
- æ–°æ‰‹æœŸ (< 10åœº): 64
- æˆé•¿æœŸ (10-30åœº): 32
- æˆç†ŸæœŸ (> 30åœº): 16

éš¾åº¦ç³»æ•°:
- Easy: 0.8
- Medium: 1.0
- Hard: 1.5
- Expert: 2.0
```

### å¤šè£åˆ¤æŠ•ç¥¨åˆ¶

1. æ’é™¤å‚èµ›é€‰æ‰‹ä½œä¸ºè£åˆ¤
2. å¤šä½è£åˆ¤ç‹¬ç«‹æ‰“åˆ†ï¼ˆé€»è¾‘/è¯æ®/è¯´æœåŠ›ï¼‰
3. ç»¼åˆè¯„åˆ†å†³å®šèƒœè€…
4. æ”¯æŒåŒæ¨¡å‹å¯¹æˆ˜ï¼ˆæ ‡è®°ä½†ä¸è®¡å…¥ELOï¼‰


## ğŸ“¦ é¡¹ç›®ç»“æ„

```
llm-debate-arena/
â”œâ”€â”€ backend/               # åç«¯æœåŠ¡
â”‚   â”œâ”€â”€ main.py           # FastAPI åº”ç”¨å…¥å£
â”‚   â”œâ”€â”€ database.py       # æ•°æ®åº“æ“ä½œ
â”‚   â”œâ”€â”€ models.py         # æ•°æ®æ¨¡å‹
â”‚   â”œâ”€â”€ tournament.py     # é”¦æ ‡èµ›é€»è¾‘
â”‚   â”œâ”€â”€ judge.py          # è£åˆ¤ç³»ç»Ÿ
â”‚   â”œâ”€â”€ elo.py            # ELO ç®—æ³•
â”‚   â”œâ”€â”€ llm_client.py     # LLM å®¢æˆ·ç«¯
â”‚   â”œâ”€â”€ tools.py          # å·¥å…·é›†æˆ
â”‚   â””â”€â”€ requirements.txt  # Python ä¾èµ–
â”œâ”€â”€ frontend/              # å‰ç«¯åº”ç”¨
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ pages/        # é¡µé¢ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ components/   # å¯å¤ç”¨ç»„ä»¶
â”‚   â”‚   â””â”€â”€ hooks/        # è‡ªå®šä¹‰ Hooks
â”‚   â””â”€â”€ package.json      # Node ä¾èµ–
â”œâ”€â”€ docs/                  # æ–‡æ¡£
â”œâ”€â”€ tests/                 # æµ‹è¯•
â”œâ”€â”€ Dockerfile             # Docker æ„å»ºæ–‡ä»¶
â”œâ”€â”€ docker-compose.yml     # Docker Compose é…ç½®
â”œâ”€â”€ .env.example           # ç¯å¢ƒå˜é‡æ¨¡æ¿
â”œâ”€â”€ start.sh               # æœ¬åœ°å¯åŠ¨è„šæœ¬
â””â”€â”€ README.md              # é¡¹ç›®è¯´æ˜

è¯¦ç»†æ–‡æ¡£ï¼š
- [Docker éƒ¨ç½²æŒ‡å—](docs/DOCKER.md)
- [åç«¯ README](backend/README.md)
- [å‰ç«¯ README](frontend/README.md)
```

## ğŸ”œ è·¯çº¿å›¾

- [x] ~~Docker å®¹å™¨åŒ–éƒ¨ç½²~~
- [x] ~~ç¯å¢ƒå˜é‡é…ç½®æ¨¡å‹åˆ—è¡¨~~
- [ ] LLMè¾©è®ºæ€§æ ¼å¯å®šåˆ¶
- [ ] äººæœºå¯¹æˆ˜è¾©è®º
- [ ] èµ›åå¤ç›˜æŠ¥å‘Š
- [ ] è§‚ä¼—æŠ•ç¥¨åŠŸèƒ½
- [ ] æ¯æ—¥æŒ‘æˆ˜èµ›
- [ ] ç¤¾åŒºè®¨è®ºåŒº

## ğŸ¤ è´¡çŒ®æŒ‡å—

æ¬¢è¿æäº¤ Issue å’Œ Pull Requestï¼

## ğŸ“„ è®¸å¯è¯

Apache License 2.0

## ğŸ™ è‡´è°¢

æ„Ÿè°¢æ‰€æœ‰è´¡çŒ®è€…å’Œæ”¯æŒè€…ï¼
